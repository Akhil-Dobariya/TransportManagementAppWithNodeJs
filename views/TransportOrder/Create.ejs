<html>
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width,initial-scale=1.0" />
        <title>Transport Management</title>
        <link rel="stylesheet" href="../css/bootstrap.min.css">
        <script src="../js/jquery.min.js"></script>
    </head>
    <body>
        <header>
            <%- include('../partials/navbar.ejs')%>
        </header>
        <div class="container">
            <form action="/TransportOrder/Create" method="post">
                <input type="hidden" name="CreateID" value="<%=ID%>" />
                <div>
                    <label style="display:inline;" class="col-form-label">Invoice ID</label>
                    <input style="width:410px;display:inline;margin-left:40px;" type="text" name="InvoiceID" id="InvoiceID" value="It will be auto generated" class="form-control">
                    <label for="InvoiceDate" class="col-form-label" style="width:130px;display:inline;margin-left:42px;">Created On</label>
                    <input type="date" class="form-control" id="InvoiceDate" name="InvoiceDate" style="width:175px;display:inline;margin-left:20px;" value=''>
                </div>
        
                <div style="margin-top:12px;">
                    <label style="display:inline;" class="col-form-label">Sender Name</label>
                    <input style="width:275px;display:inline;margin-left:14px;" class="form-control" type="text" id="Sender" name="Sender" >
        
                    <label class="col-form-label" style="margin-left:60px;display:inline;">Receiver Name</label>
                    <input class="form-control" style="width:275px;display:inline;margin-left:15px;" type="text" id="Receiver" name="Receiver" >
                </div>
        
                <div style="margin-top:10px;">
                    <label style="display:inline" class="col-form-label">Mobile No.</label>
                    <input class="form-control" style="width:275px;display:inline;margin-left:32px;" type="text" id="SenderMobileNo" name="SenderMobileNo" >
        
                    <label style="margin-left:58px;display:inline;" class="col-form-label">Mobile No.</label>
                    <input class="form-control" style="width:275px;display:inline;margin-left:43px;" type="text" id="ReceiverMobileNo" name="ReceiverMobileNo" >
                </div>
                <div class="row" style="margin-top:15px;text-align:center;">
                    <div style="width: 390px; border: solid;margin-left:10px;">Item</div>
                    <div style="width: 200px; border: solid; border-left: none; ">Qty</div>
                    <div style="width: 270px; border: solid; border-left: none; ">Price</div>
                </div>
                <div class="row">
                    <textarea style="width: 390px;margin-left: 10px;height:150px;border:solid;border-top:none;text-align:center;" type="text" name="ItemInfo"></textarea>
                    <textarea style="width: 200px;height:150px;border:solid;border-left:none;border-top:none;text-align:center;" type="text" name="Quantity"></textarea>
                    <textarea style="width: 270px;height:150px;border:solid;border-left:none;border-top:none;text-align:center" type="text" name="UnitPrice"></textarea>
                </div>
                <div>
                    <label style="margin-left:480px;margin-top:8px;width:120px;display:inline;" class="col-form-label">Total Amount</label>
                    <input type="text" name="TotalPrice" style="width:270px;margin-top:8px;display:inline;margin-left:8px;" class="form-control">
        
                </div>
                <div>
                    <label style="margin-left:480px;margin-top:8px;width:120px;display:inline;" class="col-form-label">Paid</label>
                    <input type="text" name="PaidPrice" style="width:270px;margin-top:8px;display:inline;margin-left:74px;" class="form-control">
                </div>
                <div>
                    <label for="ReceivedDate" class="col-form-label" style="width:130px;display:inline;">Received On</label>
        
                    <input type="date" class="form-control" id="ReceivedDate" style="width:200px;display:inline;margin-left:30px;" name="ReceivedOn">
                    <div style="display:inline;text-align:right;margin-left:380px;position:absolute;margin-top:25px;">Invoice Generated By</div>
        
                </div>
                <div>
                    <label for="ReceivedBy" class="col-form-label" style="width:130px;display:inline;margin-top:8px;">Received By</label>
                    <input type="text" class="form-control" id="ReceivedBy" style="width:200px;display:inline;margin-left:34px;margin-top:8px;" name="ReceivedBy" >
        
                    <div style="display:inline;text-align:right;width:530px;position:absolute;margin-top:15px;" name="InvoiceGeneratedByDisplay" id="InvoiceGeneratedByDisplay"></div>
                    <input type="hidden" name="InvoiceGeneratedBy" value="" />
                    <input type="hidden" name="InvoiceGeneratedByEmail" id="InvoiceGeneratedByEmail" value='' />
                </div>
                <div class="row" style="margin-top:10px">
                    <button type="submit" class="btn btn-secondary" id="submit" style="width:872px;">Create</button>
                </div>
            </form>
        </div>
    </body>

    <script type="text/javascript">
        document.cookie.split(';').forEach(function(item){
            if(item.indexOf('userEmail')!=-1){
                var loggedInUserID = item.split('=')[1];
                $("#InvoiceGeneratedByDisplay").text(loggedInUserID.split('@')[0].toUpperCase().replace('.',' '))
                $("#InvoiceGeneratedBy").val(loggedInUserID.split('@')[0].toUpperCase().replace('.',' '))
                console.log(loggedInUserID)
                $("#InvoiceGeneratedByEmail").val(loggedInUserID)
            }
        })
    </script>
</html>